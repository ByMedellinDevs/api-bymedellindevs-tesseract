{
  "info": {
    "name": "API Bymedellin ImageOCR",
    "description": "API para extracción de texto de imágenes usando Tesseract OCR",
    "version": "1.0.0",
    "baseUrl": "http://localhost:3000"
  },
  "requests": [
    {
      "name": "Health Check",
      "method": "GET",
      "url": "{{baseUrl}}/api/v1/health",
      "headers": {
        "Content-Type": "application/json"
      },
      "description": "Verifica el estado de la API y sus servicios",
      "expectedResponse": {
        "status": 200,
        "body": {
          "status": "ok",
          "timestamp": "2025-07-19T02:25:27Z",
          "services": {
            "database": {
              "status": "ok",
              "message": "Base de datos conectada correctamente"
            },
            "tesseract_ocr": {
              "status": "ok",
              "message": "Tesseract OCR disponible",
              "version": "tesseract 5.3.4",
              "environment": "WSL"
            }
          }
        }
      }
    },
    {
      "name": "OCR - Extraer Texto (Archivo)",
      "method": "POST",
      "url": "{{baseUrl}}/api/v1/ocr/extract_text",
      "headers": {
        "Content-Type": "multipart/form-data"
      },
      "body": {
        "type": "form-data",
        "fields": [
          {
            "key": "image",
            "type": "file",
            "description": "Archivo de imagen (PNG, JPG, JPEG, GIF, BMP, TIFF)"
          }
        ]
      },
      "description": "Extrae texto de una imagen usando Tesseract OCR",
      "expectedResponse": {
        "status": 200,
        "body": {
          "success": true,
          "text": "Texto extraído de la imagen",
          "message": "Texto extraído exitosamente con Tesseract OCR"
        }
      }
    },
    {
      "name": "OCR - Extraer Texto (Base64)",
      "method": "POST",
      "url": "{{baseUrl}}/api/v1/ocr/extract_text",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "type": "raw",
        "content": {
          "image_base64": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."
        }
      },
      "description": "Extrae texto de una imagen enviada en formato Base64",
      "expectedResponse": {
        "status": 200,
        "body": {
          "success": true,
          "text": "Texto extraído de la imagen",
          "message": "Texto extraído exitosamente con Tesseract OCR"
        }
      }
    },
    {
      "name": "OCR - Error Sin Imagen",
      "method": "POST",
      "url": "{{baseUrl}}/api/v1/ocr/extract_text",
      "headers": {
        "Content-Type": "application/json"
      },
      "body": {
        "type": "raw",
        "content": {}
      },
      "description": "Prueba de manejo de errores cuando no se envía imagen",
      "expectedResponse": {
        "status": 400,
        "body": {
          "error": "No se proporcionó imagen",
          "message": "Debe enviar una imagen en base64 o como archivo"
        }
      }
    }
  ],
  "environments": [
    {
      "name": "Local Development",
      "variables": {
        "baseUrl": "http://localhost:3000"
      }
    },
    {
      "name": "Production",
      "variables": {
        "baseUrl": "https://your-production-url.com"
      }
    }
  ],
  "testCases": [
    {
      "name": "Flujo Completo de OCR",
      "description": "Prueba el flujo completo desde health check hasta extracción de texto",
      "steps": [
        {
          "request": "Health Check",
          "assertions": [
            "response.status === 200",
            "response.body.status === 'ok'",
            "response.body.services.tesseract_ocr.status === 'ok'"
          ]
        },
        {
          "request": "OCR - Extraer Texto (Archivo)",
          "assertions": [
            "response.status === 200",
            "response.body.success === true",
            "response.body.text.length > 0"
          ]
        }
      ]
    },
    {
      "name": "Manejo de Errores",
      "description": "Verifica que los errores se manejen correctamente",
      "steps": [
        {
          "request": "OCR - Error Sin Imagen",
          "assertions": [
            "response.status === 400",
            "response.body.error !== undefined"
          ]
        }
      ]
    }
  ]
}